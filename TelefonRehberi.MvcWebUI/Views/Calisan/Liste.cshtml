@model TelefonRehberi.MvcWebUI.Models.CalisanViewModel
@{
    ViewBag.Title = "Calisan Liste";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<h2>Çalışan Listesi</h2>

<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th scope="col">Id</th>
            <th scope="col">Ad</th>
            <th scope="col">Soyad</th>
            <th scope="col">Telefon</th>
            <th scope="col">Departman</th>
            <th scope="col">Yönetici</th>
            <th scope="col">Düzenle</th>
            <th scope="col">Sil</th>

        </tr>
    </thead>
    <tbody>
        @foreach (var calisan in Model.Calisanlar)
        {
        <tr>

            <th scope="row">@calisan.CalisanId</th>
            <td>@calisan.Ad</td>
            <td>@calisan.Soyad</td>
            <td>@calisan.Telefon</td>
            <td>@calisan.Departman.Ad</td>
            @if (calisan.YoneticiId == null)
            {
                <td>Yönetici Yok</td>
            }
            else
            {
                foreach (var yonetici in Model.Calisanlar)
                {
                    if (yonetici.CalisanId == calisan.YoneticiId)
                    {
                        <td>@yonetici.Ad</td>
                    }
                }
            }

            <td>@Html.ActionLink("Düzenle", "Duzenle", "Calisan", new { id = @calisan.CalisanId }, new { @class = "btn btn-warning" })</td>
            <td>@Html.ActionLink("Sil","Sil","Calisan", new { id = @calisan.CalisanId }, new { @class = "btn btn-danger" })</td>
        </tr>
        }
    </tbody>
</table>

